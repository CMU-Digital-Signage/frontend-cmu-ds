<template>
  <div
    class="flex flex-col justify-between h-screen shadow"
    id="side-bar"
    :class="openSidebar == true ? 'side-bar-open' : 'side-bar-close'"
    style="background-color: #f6f6f6; border-right: 1px solid #c7bbbb"
  >
    <div class="space-y-5 p-4 font-sf-pro">
      <div class="flex justify-between items-start">
        <div class="flex items-center gap-2">
          <img
            class="w-6 items-center"
            alt="cmulogo"
            src="../assets/images/cpe-mini-logo.png"
          />
          <p class="font-bold text-[20px]" v-show="openSidebar">CPE Signage</p>
        </div>
        <button
          @click="toggleSidebar()"
          :class="{
            'scale-x-[-1]': !openSidebar,
            'translate-y-1': openSidebar,
          }"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
          >
            <g clip-path="url(#clip0_181_143)">
              <path
                d="M3.33325 5H17.8787M6.06052 12.2727H17.8787M8.7878 19.5455H17.8787"
                stroke="#5B5B5B"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </g>
            <defs>
              <clipPath id="clip0_181_143">
                <rect width="40" height="20" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </button>
      </div>

      <div class="-ml-1">
        <p
          class="flex ml-3 pb-2 font-semibold text-[18px] color-[#282828]"
          v-show="openSidebar"
        >
          Menu
        </p>
        <ul class="pt-1 ml-4 pb-5 space-y-2 text-[15px]">
          <li class="rounded-sm">
            <a
              href="#"
              class="flex space-x-3 rounded-md"
              :class="openSidebar == true ? ' p-2' : ' pt-5 px-1 '"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M3.79479 1.33331H3.72641C3.41325 1.33331 3.14385 1.33331 2.9059 1.38938C2.53754 1.47739 2.20074 1.66566 1.93282 1.93332C1.66489 2.20098 1.47631 2.53759 1.38795 2.90584C1.33325 3.14377 1.33325 3.41179 1.33325 3.72629V7.14483C1.33325 7.45797 1.33325 7.72735 1.38932 7.96528C1.47734 8.33361 1.66562 8.67039 1.93331 8.93829C2.20099 9.2062 2.53762 9.39477 2.9059 9.48311C3.14385 9.53781 3.41188 9.53781 3.72641 9.53781H7.14522C7.45838 9.53781 7.72778 9.53781 7.96573 9.48175C8.33409 9.39373 8.67089 9.20546 8.93882 8.9378C9.20674 8.67014 9.39533 8.33353 9.48368 7.96528C9.53838 7.72735 9.53838 7.45934 9.53838 7.14483V3.72629C9.53838 3.41315 9.53838 3.14377 9.48231 2.90584C9.39429 2.53751 9.20601 2.20073 8.93833 1.93283C8.67064 1.66493 8.33401 1.47636 7.96573 1.38801C7.72778 1.33331 7.45975 1.33331 7.14522 1.33331H3.79479ZM3.22453 2.71987C3.28334 2.7062 3.37496 2.70073 3.79479 2.70073H7.07684C7.49804 2.70073 7.58829 2.70483 7.6471 2.71987C7.76994 2.74925 7.88225 2.81207 7.97156 2.90138C8.06088 2.99068 8.1237 3.10298 8.15308 3.22582C8.16676 3.28325 8.17086 3.3735 8.17086 3.79466V7.07646C8.17086 7.49763 8.16676 7.58787 8.15171 7.64667C8.12234 7.76951 8.05951 7.88181 7.97019 7.97111C7.88088 8.06042 7.76858 8.12324 7.64573 8.15262C7.58966 8.16492 7.49941 8.17039 7.07684 8.17039H3.79479C3.37359 8.17039 3.28334 8.16629 3.22453 8.15125C3.10169 8.12188 2.98938 8.05905 2.90007 7.96975C2.81076 7.88044 2.74793 7.76814 2.71855 7.64531C2.70624 7.58924 2.70077 7.49899 2.70077 7.07646V3.79466C2.70077 3.3735 2.70488 3.28325 2.71992 3.22445C2.74929 3.10161 2.81212 2.98932 2.90144 2.90001C2.99075 2.8107 3.10306 2.74788 3.2259 2.71851L3.22453 2.71987ZM13.3674 1.33331H13.2991C12.9859 1.33331 12.7165 1.33331 12.4786 1.38938C12.1102 1.47739 11.7734 1.66566 11.5055 1.93332C11.2375 2.20098 11.049 2.53759 10.9606 2.90584C10.9059 3.14377 10.9059 3.41179 10.9059 3.72629V7.14483C10.9059 7.45797 10.9059 7.72735 10.962 7.96528C11.05 8.33361 11.2383 8.67039 11.506 8.93829C11.7736 9.2062 12.1103 9.39477 12.4786 9.48311C12.7165 9.53781 12.9845 9.53781 13.2991 9.53781H16.7179C17.031 9.53781 17.3004 9.53781 17.5384 9.48175C17.9067 9.39373 18.2435 9.20546 18.5115 8.9378C18.7794 8.67014 18.968 8.33353 19.0563 7.96528C19.111 7.72735 19.111 7.45934 19.111 7.14483V3.72629C19.111 3.41315 19.111 3.14377 19.055 2.90584C18.9669 2.53751 18.7787 2.20073 18.511 1.93283C18.2433 1.66493 17.9067 1.47636 17.5384 1.38801C17.3004 1.33331 17.0324 1.33331 16.7179 1.33331H13.3674ZM12.7972 2.71987C12.856 2.7062 12.9476 2.70073 13.3674 2.70073H16.6495C17.0707 2.70073 17.1609 2.70483 17.2197 2.71987C17.3426 2.74925 17.4549 2.81207 17.5442 2.90138C17.6335 2.99068 17.6964 3.10298 17.7257 3.22582C17.7394 3.28325 17.7435 3.3735 17.7435 3.79466V7.07646C17.7435 7.49763 17.738 7.58787 17.7244 7.64667C17.695 7.76951 17.6322 7.88181 17.5428 7.97111C17.4535 8.06042 17.3412 8.12324 17.2184 8.15262C17.1609 8.16629 17.0707 8.17039 16.6495 8.17039H13.3674C12.9462 8.17039 12.856 8.16629 12.7972 8.15125C12.6743 8.12188 12.562 8.05905 12.4727 7.96975C12.3834 7.88044 12.3206 7.76814 12.2912 7.64531C12.2789 7.58924 12.2734 7.49899 12.2734 7.07646V3.79466C12.2734 3.3735 12.2775 3.28325 12.2926 3.22445C12.3219 3.10161 12.3848 2.98932 12.4741 2.90001C12.5634 2.8107 12.6757 2.74788 12.7986 2.71851L12.7972 2.71987ZM3.72641 10.9052H7.14522C7.45838 10.9052 7.72778 10.9052 7.96573 10.9613C8.33409 11.0493 8.67089 11.2376 8.93882 11.5052C9.20674 11.7729 9.39533 12.1095 9.48368 12.4778C9.53838 12.7157 9.53838 12.9837 9.53838 13.2982V16.7167C9.53838 17.0299 9.53838 17.2993 9.48231 17.5372C9.39429 17.9055 9.20601 18.2423 8.93833 18.5102C8.67064 18.7781 8.33401 18.9667 7.96573 19.055C7.72778 19.1097 7.45975 19.1097 7.14522 19.1097H3.72641C3.41325 19.1097 3.14385 19.1097 2.9059 19.0537C2.53754 18.9656 2.20074 18.7774 1.93282 18.5097C1.66489 18.2421 1.47631 17.9054 1.38795 17.5372C1.33325 17.2993 1.33325 17.0313 1.33325 16.7167V13.2982C1.33325 12.9851 1.33325 12.7157 1.38932 12.4778C1.47734 12.1094 1.66562 11.7726 1.93331 11.5047C2.20099 11.2368 2.53762 11.0483 2.9059 10.9599C3.14385 10.9052 3.41188 10.9052 3.72641 10.9052ZM3.79479 12.2726C3.37359 12.2726 3.28334 12.2767 3.22453 12.2918C3.10169 12.3212 2.98938 12.384 2.90007 12.4733C2.81076 12.5626 2.74793 12.6749 2.71855 12.7977C2.70624 12.8538 2.70077 12.944 2.70077 13.3666V16.6484C2.70077 17.0695 2.70488 17.1598 2.71992 17.2186C2.74929 17.3414 2.81212 17.4537 2.90144 17.543C2.99075 17.6323 3.10306 17.6952 3.2259 17.7245C3.28334 17.7382 3.37359 17.7423 3.79479 17.7423H7.07684C7.49804 17.7423 7.58829 17.7368 7.6471 17.7232C7.76994 17.6938 7.88225 17.631 7.97156 17.5417C8.06088 17.4524 8.1237 17.3401 8.15308 17.2172C8.16676 17.1598 8.17086 17.0695 8.17086 16.6484V13.3666C8.17086 12.9454 8.16676 12.8552 8.15171 12.7964C8.12234 12.6735 8.05951 12.5612 7.97019 12.4719C7.88088 12.3826 7.76858 12.3198 7.64573 12.2904C7.58966 12.2781 7.49941 12.2726 7.07684 12.2726H3.79479ZM13.3674 10.9052H13.2991C12.9859 10.9052 12.7165 10.9052 12.4786 10.9613C12.1102 11.0493 11.7734 11.2376 11.5055 11.5052C11.2375 11.7729 11.049 12.1095 10.9606 12.4778C10.9059 12.7157 10.9059 12.9837 10.9059 13.2982V16.7167C10.9059 17.0299 10.9059 17.2993 10.962 17.5372C11.05 17.9055 11.2383 18.2423 11.506 18.5102C11.7736 18.7781 12.1103 18.9667 12.4786 19.055C12.7165 19.1111 12.9859 19.1111 13.2991 19.1111H16.7179C17.031 19.1111 17.3004 19.1111 17.5384 19.055C17.9065 18.9668 18.243 18.7784 18.5107 18.5108C18.7783 18.2431 18.9667 17.9066 19.055 17.5386C19.111 17.3006 19.111 17.0313 19.111 16.7181V13.2982C19.111 12.9851 19.111 12.7157 19.055 12.4778C18.9669 12.1094 18.7787 11.7726 18.511 11.5047C18.2433 11.2368 17.9067 11.0483 17.5384 10.9599C17.3004 10.9052 17.0324 10.9052 16.7179 10.9052H13.3674ZM12.7972 12.2918C12.856 12.2781 12.9476 12.2726 13.3674 12.2726H16.6495C17.0707 12.2726 17.1609 12.2767 17.2197 12.2918C17.3426 12.3212 17.4549 12.384 17.5442 12.4733C17.6335 12.5626 17.6964 12.6749 17.7257 12.7977C17.7394 12.8552 17.7435 12.9454 17.7435 13.3666V16.6484C17.7435 17.0695 17.738 17.1598 17.7244 17.2186C17.695 17.3414 17.6322 17.4537 17.5428 17.543C17.4535 17.6323 17.3412 17.6952 17.2184 17.7245C17.1609 17.7382 17.0707 17.7423 16.6495 17.7423H13.3674C12.9462 17.7423 12.856 17.7368 12.7972 17.7232C12.6743 17.6938 12.562 17.631 12.4727 17.5417C12.3834 17.4524 12.3206 17.3401 12.2912 17.2172C12.2789 17.1612 12.2734 17.0709 12.2734 16.6484V13.3666C12.2734 12.9454 12.2775 12.8552 12.2926 12.7964C12.3219 12.6735 12.3848 12.5612 12.4741 12.4719C12.5634 12.3826 12.6757 12.3198 12.7986 12.2904L12.7972 12.2918Z"
                  fill="#282828"
                />
              </svg>

              <router-link
                to="/"
                class="underline-ho"
                active-class="active-link"
                v-show="openSidebar"
                >Dashboard</router-link
              >
            </a>
          </li>
          <li class="rounded-sm">
            <a
              href="#"
              class="flex space-x-3 rounded-md"
              :class="openSidebar == true ? ' p-2' : ' pt-5 px-1 '"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
              >
                <g clip-path="url(#clip0_181_153)">
                  <path
                    d="M16.875 7.35C16.525 7.35 16.25 7.075 16.25 6.725V1.875C16.25 1.525 15.975 1.25 15.625 1.25H4.375C4.025 1.25 3.75 1.525 3.75 1.875V4.375C3.75 4.725 3.475 5 3.125 5C2.775 5 2.5 4.725 2.5 4.375V1.875C2.5 0.8375 3.3375 0 4.375 0H15.625C16.6625 0 17.5 0.8375 17.5 1.875V6.725C17.5 7.075 17.225 7.35 16.875 7.35Z"
                    fill="#282828"
                  />
                  <path
                    d="M18.125 20H1.875C0.8375 20 0 19.1625 0 18.125V5.625C0 4.5875 0.8375 3.75 1.875 3.75H7.8125C8.0125 3.75 8.2 3.8375 8.3125 4L10 6.25H18.125C19.1625 6.25 20 7.0875 20 8.125V18.125C20 19.1625 19.1625 20 18.125 20ZM1.875 5C1.525 5 1.25 5.275 1.25 5.625V18.125C1.25 18.475 1.525 18.75 1.875 18.75H18.125C18.475 18.75 18.75 18.475 18.75 18.125V8.125C18.75 7.775 18.475 7.5 18.125 7.5H9.6875C9.59013 7.50204 9.49372 7.48034 9.40661 7.43679C9.31949 7.39323 9.24429 7.32912 9.1875 7.25L7.5 5H1.875Z"
                    fill="#282828"
                  />
                  <path
                    d="M6.875 16.25H4.375C4.025 16.25 3.75 15.975 3.75 15.625C3.75 15.275 4.025 15 4.375 15H6.875C7.225 15 7.5 15.275 7.5 15.625C7.5 15.975 7.225 16.25 6.875 16.25Z"
                    fill="#282828"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_181_153">
                    <rect width="20" height="20" fill="white" />
                  </clipPath>
                </defs>
              </svg>

              <router-link
                to="/file"
                class="underline-ho"
                active-class="active-link"
                v-show="openSidebar"
                >File Manager</router-link
              >
            </a>
          </li>
          <li class="rounded-sm">
            <a
              href="#"
              class="flex items-center space-x-3 rounded-md"
              :class="openSidebar == true ? ' p-2 ' : 'pt-5 px-1 '"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="17"
                viewBox="0 0 20 17"
                fill="none"
              >
                <path
                  d="M2.375 0C1.74511 0 1.14102 0.250223 0.695621 0.695621C0.250223 1.14102 0 1.74511 0 2.375V11.625C0 12.2549 0.250223 12.859 0.695621 13.3044C1.14102 13.7498 1.74511 14 2.375 14H17.625C18.2549 14 18.859 13.7498 19.3044 13.3044C19.7498 12.859 20 12.2549 20 11.625V2.375C20 1.74511 19.7498 1.14102 19.3044 0.695621C18.859 0.250223 18.2549 0 17.625 0H2.375ZM1.25 2.375C1.25 2.07663 1.36853 1.79048 1.5795 1.5795C1.79048 1.36853 2.07663 1.25 2.375 1.25H17.625C17.9234 1.25 18.2095 1.36853 18.4205 1.5795C18.6315 1.79048 18.75 2.07663 18.75 2.375V11.625C18.75 11.9234 18.6315 12.2095 18.4205 12.4205C18.2095 12.6315 17.9234 12.75 17.625 12.75H2.375C2.07663 12.75 1.79048 12.6315 1.5795 12.4205C1.36853 12.2095 1.25 11.9234 1.25 11.625V2.375ZM3.625 15.75C3.45924 15.75 3.30027 15.8158 3.18306 15.9331C3.06585 16.0503 3 16.2092 3 16.375C3 16.5408 3.06585 16.6997 3.18306 16.8169C3.30027 16.9342 3.45924 17 3.625 17H16.375C16.5408 17 16.6997 16.9342 16.8169 16.8169C16.9342 16.6997 17 16.5408 17 16.375C17 16.2092 16.9342 16.0503 16.8169 15.9331C16.6997 15.8158 16.5408 15.75 16.375 15.75H3.625Z"
                  fill="#282828"
                />
              </svg>
              <router-link
                to="/deviceManage"
                class="underline-ho"
                active-class="active-link"
                v-show="openSidebar"
                >Device</router-link
              >
            </a>
          </li>
        </ul>
        <div
          class="border-t w-11/12 border-[#aaaa]"
          :class="openSidebar == true ? 'pb-1 ml-2 ' : 'mx-1'"
        ></div>
      </div>

      <!-- admin management sidebar -->
      <div v-if="user?.isAdmin" class="-ml-1">
        <p
          class="flex ml-3 pb-2 font-semibold text-[18px] color-[#282828]"
          v-show="openSidebar"
        >
          Admin
        </p>
        <ul class="pt-1 ml-4 pb-4 space-y-2" style="font-size: 15px">
          <li class="rounded-sm">
            <a
              href="#"
              class="flex items-center space-x-2 rounded-md"
              :class="openSidebar == true ? ' pl-2 ' : 'px-1'"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 21 17"
                fill="none"
              >
                <path
                  d="M8.66667 7.28247C7.70456 7.28247 6.8805 6.93947 6.1945 6.25347C5.5085 5.56747 5.16589 4.7438 5.16667 3.78247C5.16667 2.81958 5.50928 1.99514 6.1945 1.30914C6.87972 0.624693 7.70378 0.282471 8.66667 0.282471C9.62956 0.282471 10.4536 0.624693 11.1388 1.30914C11.8241 1.99514 12.1667 2.81958 12.1667 3.78247C12.1667 4.74458 11.8241 5.56825 11.1388 6.25347C10.4536 6.93869 9.62956 7.28169 8.66667 7.28247ZM0.5 15.7175V13.7983C0.5 13.2616 0.635333 12.7973 0.906 12.4053C1.17667 12.0133 1.55894 11.7014 2.05283 11.4696C2.99939 11.0092 3.9755 10.63 4.98117 10.3321C5.98606 10.0342 7.21456 9.8853 8.66667 9.8853H8.94083C9.01239 9.8853 9.09911 9.88997 9.201 9.8993C9.12011 10.1 9.05594 10.2964 9.0085 10.4885L8.87317 11.052H8.66667C7.36078 11.052 6.22211 11.1861 5.25067 11.4545C4.27922 11.722 3.39878 12.0681 2.60933 12.4928C2.25467 12.6795 2.00889 12.8755 1.872 13.0808C1.73511 13.2854 1.66667 13.5245 1.66667 13.7983V14.552H9.01667C9.07344 14.7363 9.14305 14.9346 9.2255 15.147C9.30794 15.3577 9.39855 15.5483 9.49733 15.7186L0.5 15.7175ZM15.914 16.2786L15.7425 14.9323C15.4197 14.8654 15.1152 14.7522 14.829 14.5928C14.542 14.4334 14.2842 14.2311 14.0555 13.9861L12.7908 14.4878L12.2973 13.649L13.3695 12.8416C13.2404 12.5095 13.1758 12.1673 13.1758 11.815C13.1758 11.4611 13.2404 11.1181 13.3695 10.786L12.3195 9.9343L12.813 9.0943L14.0555 9.6193C14.2694 9.3743 14.5233 9.17597 14.8173 9.0243C15.1113 8.87264 15.4197 8.76297 15.7425 8.6953L15.914 7.34897H16.901L17.0492 8.6953C17.3719 8.76297 17.6803 8.8738 17.9743 9.0278C18.2683 9.1818 18.5223 9.38364 18.7362 9.6333L19.9787 9.0943L20.4722 9.94714L19.4222 10.8C19.5513 11.1274 19.6158 11.4689 19.6158 11.8243C19.6158 12.1797 19.5513 12.5189 19.4222 12.8416L20.4955 13.649L20.0008 14.489L18.7362 13.9861C18.5075 14.2311 18.2497 14.4334 17.9627 14.5928C17.6757 14.7522 17.3712 14.8654 17.0492 14.9323L16.901 16.2786H15.914ZM16.3865 13.922C16.9667 13.922 17.4629 13.7159 17.8752 13.3036C18.2874 12.8899 18.4935 12.3929 18.4935 11.8126C18.4935 11.2324 18.287 10.7358 17.874 10.3228C17.4602 9.91058 16.9632 9.70447 16.383 9.70447C15.8028 9.70447 15.3062 9.91136 14.8932 10.3251C14.4809 10.7389 14.2748 11.2359 14.2748 11.8161C14.2748 12.3964 14.4817 12.8926 14.8955 13.3048C15.3093 13.717 15.8063 13.922 16.3865 13.922ZM8.66667 6.11697C9.30833 6.11697 9.85783 5.8883 10.3152 5.43097C10.7725 4.97364 11.0008 4.42414 11 3.78247C11 3.1408 10.7717 2.5913 10.3152 2.13397C9.85861 1.67664 9.30911 1.44836 8.66667 1.44914C8.025 1.44914 7.47589 1.67742 7.01933 2.13397C6.56278 2.59053 6.33411 3.14003 6.33333 3.78247C6.33333 4.42414 6.562 4.97325 7.01933 5.4298C7.47667 5.88636 8.02578 6.11619 8.66667 6.11697Z"
                  fill="#282828"
                />
              </svg>
              <router-link
                to="/admin"
                class="underline-ho"
                active-class="active-link"
                v-show="openSidebar"
                >Management</router-link
              >
            </a>
          </li>
          <li class="rounded-sm">
            <a
              href="#"
              class="flex items-center space-x-2 rounded-md"
              :class="openSidebar == true ? ' pt-4 px-2  ' : 'pt-4 px-0.5'"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
              >
                <g clip-path="url(#clip0_292_44)">
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M9.4624 5.08064C8.14358 5.3086 7.18276 6.42595 7.02544 7.7552L5.85913 17.6588H18.7022L17.5334 7.74156C17.3777 6.41872 16.4257 5.30379 15.1141 5.07422C13.1475 4.72987 11.5085 4.72666 9.4624 5.08064ZM10.4585 8.54665C10.4796 8.33812 10.4183 8.12961 10.2876 7.9657C10.157 7.80179 9.96746 7.69547 9.75948 7.66948C9.5515 7.64348 9.3416 7.69986 9.17464 7.82658C9.00769 7.95329 8.89692 8.14028 8.866 8.34759L8.13957 14.1575C8.12379 14.2633 8.12933 14.3712 8.15586 14.4749C8.1824 14.5785 8.2294 14.6759 8.29409 14.7611C8.35878 14.8463 8.43987 14.9178 8.53257 14.9712C8.62528 15.0247 8.72774 15.059 8.83392 15.0723C8.9401 15.0856 9.04787 15.0775 9.15088 15.0485C9.25389 15.0195 9.35006 14.9703 9.43375 14.9036C9.51743 14.8369 9.58694 14.7541 9.63818 14.6602C9.68941 14.5662 9.72135 14.463 9.73211 14.3565L10.4585 8.54665Z"
                    fill="#FF0000"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M11.0562 6.48294C11.4111 6.73493 11.6911 7.07842 11.8664 7.47686C12.0416 7.87531 12.1056 8.31381 12.0515 8.74572L11.3259 14.5556C11.2504 15.1576 10.9599 15.6793 10.5393 16.0534H16.8965L15.9397 7.92938C15.8579 7.23104 15.3747 6.74943 14.8385 6.65552C13.4972 6.42113 12.3421 6.36093 11.0562 6.48294ZM17.5339 7.74156C17.3782 6.41872 16.4262 5.30379 15.1146 5.07422C13.148 4.72987 11.5089 4.72666 9.46285 5.08064C8.14403 5.3086 7.18321 6.42595 7.02588 7.7552L5.85957 17.6588H18.7026L17.5339 7.74156ZM10.459 8.54665L9.73255 14.3565C9.72179 14.463 9.68986 14.5662 9.63862 14.6602C9.58738 14.7541 9.51788 14.8369 9.43419 14.9036C9.35051 14.9703 9.25433 15.0195 9.15132 15.0485C9.04831 15.0775 8.94055 15.0856 8.83436 15.0723C8.72818 15.059 8.62572 15.0247 8.53302 14.9712C8.44031 14.9178 8.35923 14.8463 8.29453 14.7611C8.22984 14.6759 8.18284 14.5785 8.15631 14.4749C8.12977 14.3712 8.12423 14.2633 8.14001 14.1574L8.86645 8.34758C8.8772 8.24112 8.90914 8.13788 8.96038 8.04393C9.01162 7.94999 9.08112 7.86723 9.1648 7.80054C9.24849 7.73385 9.34466 7.68456 9.44767 7.65558C9.55068 7.6266 9.65845 7.61851 9.76463 7.63178C9.87081 7.64505 9.97327 7.67942 10.066 7.73287C10.1587 7.78632 10.2398 7.85776 10.3045 7.943C10.3692 8.02824 10.4162 8.12555 10.4427 8.22922C10.4692 8.33289 10.4748 8.44081 10.459 8.54665ZM19.5053 20.8695H5.05688V19.2642H19.5053V20.8695Z"
                    fill="#FF0000"
                  />
                  <path
                    d="M3.45152 11.2376C3.45152 11.5082 3.46356 11.7754 3.48765 12.0403H1.04346V10.435H3.48765C3.46356 10.6998 3.45152 10.9671 3.45152 11.2376ZM5.06653 6.14539C4.75696 6.58339 4.48801 7.04874 4.26304 7.53565L2.14796 6.31395L2.95065 4.9237L5.06653 6.14539ZM8.5791 3.21878C8.08946 3.44594 7.6247 3.71565 7.18884 4.02308L5.96715 1.90719L7.35741 1.1045L8.5783 3.21959L8.5791 3.21878ZM12.2811 2.40807C12.0106 2.40807 11.7433 2.42011 11.4784 2.44419V0H13.0838V2.44419C12.8169 2.42016 12.5491 2.40811 12.2811 2.40807ZM17.3734 4.02308C16.9353 3.71354 16.47 3.44459 15.9831 3.21959L17.2048 1.1045L18.5951 1.90719L17.3734 4.02308ZM20.3 7.53565C20.0747 7.04871 19.8055 6.58336 19.4957 6.14539L21.6116 4.9237L22.4143 6.31395L20.2992 7.53484L20.3 7.53565ZM21.1107 11.2376C21.1107 10.9671 21.0986 10.6998 21.0746 10.435H23.5188V12.0403H21.0746C21.0986 11.7754 21.1107 11.5082 21.1107 11.2376Z"
                    fill="#FF0000"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_292_44">
                    <rect width="24" height="24" fill="white" />
                  </clipPath>
                </defs>
              </svg>

              <router-link
                to="/emergency"
                class="underline-ho-em text-[#f00] hover:border-b-2 hover:border-rose"
                active-class="active-link-em"
                v-show="openSidebar"
                >Emergency</router-link
              >
            </a>
          </li>
        </ul>
      </div>
    </div>

    <!-- <UserInfo /> -->
    <div
      class="flex h-14 w-full p-3 items-center justify-between"
      style="border-top: 1px solid #aaa"
    >
      <div class="flex flex-row gap-1 items-center" v-show="openSidebar">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="38"
          height="38"
          viewBox="0 0 39 39"
          fill="none"
        >
          <path
            d="M10.0685 28.4131C11.4498 27.4186 12.9155 26.6327 14.4658 26.0553C16.0149 25.4768 17.693 25.1875 19.5 25.1875C21.3059 25.1875 22.984 25.4768 24.5342 26.0553C26.0834 26.6327 27.5492 27.4181 28.9315 28.4115C30.004 27.3022 30.8669 25.9913 31.5201 24.479C32.1734 22.9645 32.5 21.3048 32.5 19.5C32.5 15.8979 31.2341 12.8305 28.7024 10.2976C26.1706 7.76479 23.1032 6.49892 19.5 6.5C15.8979 6.5 12.8305 7.76642 10.2976 10.2992C7.76479 12.8321 6.49892 15.899 6.5 19.5C6.5 21.3059 6.82663 22.965 7.47988 24.4774C8.13313 25.9908 8.996 27.3027 10.0685 28.4131ZM19.5016 20.3125C18.1323 20.3125 16.9769 19.8423 16.0355 18.902C15.0952 17.9627 14.625 16.8085 14.625 15.4391C14.625 14.0698 15.0952 12.9144 16.0355 11.973C16.9748 11.0327 18.129 10.5625 19.4984 10.5625C20.8677 10.5625 22.0231 11.0327 22.9645 11.973C23.9048 12.9123 24.375 14.0665 24.375 15.4359C24.375 16.8052 23.9048 17.9606 22.9645 18.902C22.0252 19.8423 20.871 20.3125 19.5016 20.3125ZM19.5 34.125C17.4601 34.125 15.5507 33.7453 13.7719 32.9859C11.993 32.2275 10.445 31.1897 9.12763 29.8724C7.81138 28.555 6.77354 27.007 6.01412 25.2281C5.25471 23.4493 4.875 21.5399 4.875 19.5C4.875 17.4601 5.25471 15.5507 6.01412 13.7719C6.77246 11.993 7.81029 10.445 9.12763 9.12763C10.445 7.81138 11.993 6.77354 13.7719 6.01412C15.5507 5.25471 17.4601 4.875 19.5 4.875C21.5399 4.875 23.4493 5.25471 25.2281 6.01412C27.007 6.77246 28.555 7.81029 29.8724 9.12763C31.1886 10.445 32.2265 11.993 32.9859 13.7719C33.7453 15.5507 34.125 17.4601 34.125 19.5C34.125 21.5399 33.7453 23.4493 32.9859 25.2281C32.2275 27.007 31.1897 28.555 29.8724 29.8724C28.555 31.1886 27.007 32.2265 25.2281 32.9859C23.4493 33.7453 21.5399 34.125 19.5 34.125ZM19.5 32.5C20.9982 32.5 22.4721 32.2378 23.9216 31.7135C25.3722 31.1903 26.6256 30.4731 27.6819 29.562C26.6256 28.7148 25.4036 28.0448 24.0159 27.5519C22.6292 27.059 21.1239 26.8125 19.5 26.8125C17.8772 26.8125 16.367 27.0535 14.9695 27.5356C13.572 28.0177 12.3549 28.6932 11.3181 29.562C12.3744 30.472 13.6278 31.1892 15.0784 31.7135C16.5279 32.2378 18.0018 32.5 19.5 32.5ZM19.5 18.6875C20.4122 18.6875 21.1819 18.3739 21.8091 17.7466C22.4364 17.1194 22.75 16.3497 22.75 15.4375C22.75 14.5253 22.4364 13.7556 21.8091 13.1284C21.1819 12.5011 20.4122 12.1875 19.5 12.1875C18.5878 12.1875 17.8181 12.5011 17.1909 13.1284C16.5636 13.7556 16.25 14.5253 16.25 15.4375C16.25 16.3497 16.5636 17.1194 17.1909 17.7466C17.8181 18.3739 18.5878 18.6875 19.5 18.6875Z"
            fill="black"
          />
        </svg>
        <div class="flex flex-col items-start text-[14px]">
          <p v-if="user">
            {{ user.firstName }} {{ (user?.lastName || "").charAt(0) }}.
          </p>
          <p
            v-if="user?.isAdmin"
            class="-mt-1 text-[#0094ff] text-[13px]"
            style="font-weight: 700"
            v-show="openSidebar"
          >
            Admin
          </p>
          <p
            v-if="!user?.isAdmin"
            class="-mt-1"
            style="color: #0094ff; font-size: 13px; font-weight: 700"
          >
            Instructor
          </p>
        </div>
      </div>
      <button @click="signOut()" :class="openSidebar ? 'px-0.5' : 'p-2'">
        <div class="flex justify-center items-center logout-bt">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="22"
            viewBox="0 0 20 22"
            fill="none"
          >
            <path
              d="M13.0801 3.86007V2.84007C13.0801 2.27674 12.6235 1.82007 12.0601 1.82007H2.88011C2.31677 1.82007 1.86011 2.27674 1.86011 2.84007V19.1601C1.86011 19.7234 2.31678 20.1801 2.88011 20.1801H12.0601C12.6235 20.1801 13.0801 19.7234 13.0801 19.1601V18.1401"
              stroke="#282828"
              class="logout-icon"
              stroke-width="1.74857"
              stroke-linecap="round"
            />
            <path
              d="M6.96021 11H12.5702H18.1802"
              stroke="#282828"
              class="logout-icon"
              stroke-width="1.74857"
              stroke-linecap="round"
            />
            <path
              d="M14.6104 7.43005L18.1804 11.0001L14.6104 14.5701"
              stroke="#282828"
              class="logout-icon"
              stroke-width="1.74857"
              stroke-linecap="round"
            />
          </svg>
        </div>
      </button>
    </div>
  </div>
</template>

<script lang="ts">
import { ref, defineComponent } from "vue";
import store from "@/store";
import router from "@/router";
import { signOut } from "@/services";

export default defineComponent({
  name: "SideBar",
  computed: {
    user() {
      return store.state.userInfo;
    },
  },
  methods: {
    signOut() {
      signOut();
    },
    toggleSidebar() {
      this.openSidebar = !this.openSidebar;
    },
  },
  data() {
    return {
      openSidebar: true,
    };
  },
});
</script>

<style>
.logout-bt {
  width: 36px;
  height: 36px;
  border-radius: 11.52px;
  background: #eee;
  transition: 0.1s;
}
.logout-bt:hover {
  background: #ff5252;
}
.logout-bt:hover .logout-icon {
  stroke: #fff;
}
.active-link {
  border-bottom: 2px solid #282828;
  font-weight: 900;
}
.underline-ho:hover {
  border-bottom: 0.7px solid #8c8c8c;
}
.active-link-em {
  border-bottom: 1px solid #f00;
  font-weight: 900;
}
.underline-ho-em:hover {
  border-bottom: 1px solid #f00;
}
#side-bar {
  overflow: hidden;
  transition: 300ms;
}

.side-bar-open {
  width: 18rem;
}
.side-bar-close {
  width: 90px;
}
</style>
